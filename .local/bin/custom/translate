#!/usr/bin/env sh

TEMP_FILE=$HOME/.cache/trans.tmp

text=$(xsel -o)

trans -no-ansi "$text" > $TEMP_FILE

# word=$(sed '/^$/q' $TEMP_FILE)
# echo $(sed '1,/^\s*$/d' $TEMP_FILE) > $TEMP_FILE

GDK_BACKEND=x11 yad \
    --width=500 --height=400 \
    --fontname='monospace 14' \
    --text-info --wrap < $TEMP_FILE \
    --button="Read aloud":"trans -sp \"$text\"" \
    --button="Exit"

